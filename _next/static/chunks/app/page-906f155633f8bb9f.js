(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{681:function(e,r,s){Promise.resolve().then(s.bind(s,7798))},7798:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var a=s(3827),n=s(4090);function d(){let[e,r]=(0,n.useState)({name:"",age:"",gender:"",experience:"",feedback:""}),[s,d]=(0,n.useState)(!1),[i,l]=(0,n.useState)("idle"),t=async s=>{s.preventDefault(),d(!0),l("idle");try{if(!(await fetch("/api/survey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to submit survey");l("success"),r({name:"",age:"",gender:"",experience:"",feedback:""})}catch(e){console.error("Error submitting survey:",e),l("error")}finally{d(!1)}},o=e=>{let{name:s,value:a}=e.target;r(e=>({...e,[s]:a}))};return(0,a.jsxs)("form",{onSubmit:t,className:"space-y-6 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"이름"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"나이"}),(0,a.jsx)("input",{type:"number",id:"age",name:"age",value:e.age,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"성별"}),(0,a.jsxs)("select",{id:"gender",name:"gender",value:e.gender,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0,children:[(0,a.jsx)("option",{value:"",children:"선택해주세요"}),(0,a.jsx)("option",{value:"male",children:"남성"}),(0,a.jsx)("option",{value:"female",children:"여성"}),(0,a.jsx)("option",{value:"other",children:"기타"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700",children:"원불교 접촉 경험"}),(0,a.jsxs)("select",{id:"experience",name:"experience",value:e.experience,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0,children:[(0,a.jsx)("option",{value:"",children:"선택해주세요"}),(0,a.jsx)("option",{value:"never",children:"없음"}),(0,a.jsx)("option",{value:"once",children:"1-2회"}),(0,a.jsx)("option",{value:"sometimes",children:"가끔"}),(0,a.jsx)("option",{value:"often",children:"자주"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700",children:"의견"}),(0,a.jsx)("textarea",{id:"feedback",name:"feedback",value:e.feedback,onChange:o,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]}),"success"===i&&(0,a.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"제출 완료"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,a.jsx)("p",{children:"설문조사에 참여해 주셔서 감사합니다."})})]})})}),"error"===i&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"오류 발생"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:"설문조사 제출 중 오류가 발생했습니다. 다시 시도해 주세요."})})]})})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"제출 중...":"제출하기"})})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=681)}),_N_E=e.O()}]);